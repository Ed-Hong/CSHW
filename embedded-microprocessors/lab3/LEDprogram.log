KCPSM6 Assembler log file for program 'H:\microprocessors-lab\Lab3\LEDprogram.psm'.
Generated by KCPSM6 version v2.70
Ken Chapman - Xilinx Ltd - 16th May 2014

Assembly datestamp: 24 Apr 2019
Assembly timestamp: 18:19:03

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 04F hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 80
Memory locations available: 4016


Assembly listing

 Addr Code           Instruction

 000                 ; 7-seg display mappings
 000                 CONSTANT DISP_0, 11000000'b
 000                 CONSTANT DISP_1, 11111001'b
 000                 CONSTANT DISP_2, 10100100'b
 000                 CONSTANT DISP_3, 10110000'b
 000                 CONSTANT DISP_4, 10011001'b
 000                 CONSTANT DISP_5, 10010010'b
 000                 CONSTANT DISP_6, 10000010'b
 000                 CONSTANT DISP_7, 11111000'b
 000                 CONSTANT DISP_8, 10000000'b
 000                 CONSTANT DISP_9, 10010000'b
 000                 CONSTANT DISP_A, 10001000'b
 000                 CONSTANT DISP_B, 10000011'b
 000                 CONSTANT DISP_C, 11000110'b
 000                 CONSTANT DISP_D, 10100001'b
 000                 CONSTANT DISP_E, 10000110'b
 000                 CONSTANT DISP_F, 10001110'b
 000                 ; 7-seg anode mappings
 000                 CONSTANT ANODE_0, 00001110'b
 000                 CONSTANT ANODE_1, 00001101'b
 000                 CONSTANT ANODE_2, 00001011'b
 000                 CONSTANT ANODE_3, 00000111'b
 000                 ; output ports
 000                 CONSTANT NUM1_OUT_PORT, 01
 000                 CONSTANT NUM2_OUT_PORT, 02
 000                 CONSTANT OUT_PORT, 16
 000                 CONSTANT ANODE_PORT, 08
 000                 ; input ports
 000                 CONSTANT SW_IN_PORT, 00
 000          start: 
 000                 ; Create lookup table for 7-seg display
 000  01FC0          LOAD sF, C0[DISP_0]
 001  2FF00          STORE sF, 00[0'd]
 002  01FF9          LOAD sF, F9[DISP_1]
 003  2FF01          STORE sF, 01[1'd]
 004  01FA4          LOAD sF, A4[DISP_2]
 005  2FF02          STORE sF, 02[2'd]
 006  01FB0          LOAD sF, B0[DISP_3]
 007  2FF03          STORE sF, 03[3'd]
 008  01F99          LOAD sF, 99[DISP_4]
 009  2FF04          STORE sF, 04[4'd]
 00A  01F92          LOAD sF, 92[DISP_5]
 00B  2FF05          STORE sF, 05[5'd]
 00C  01F82          LOAD sF, 82[DISP_6]
 00D  2FF06          STORE sF, 06[6'd]
 00E  01FF8          LOAD sF, F8[DISP_7]
 00F  2FF07          STORE sF, 07[7'd]
 010  01F80          LOAD sF, 80[DISP_8]
 011  2FF08          STORE sF, 08[8'd]
 012  01F90          LOAD sF, 90[DISP_9]
 013  2FF09          STORE sF, 09[9'd]
 014  01F88          LOAD sF, 88[DISP_A]
 015  2FF0A          STORE sF, 0A[10'd]
 016  01F83          LOAD sF, 83[DISP_B]
 017  2FF0B          STORE sF, 0B[11'd]
 018  01FC6          LOAD sF, C6[DISP_C]
 019  2FF0C          STORE sF, 0C[12'd]
 01A  01FA1          LOAD sF, A1[DISP_D]
 01B  2FF0D          STORE sF, 0D[13'd]
 01C  01F86          LOAD sF, 86[DISP_E]
 01D  2FF0E          STORE sF, 0E[14'd]
 01E  01F8E          LOAD sF, 8E[DISP_F]
 01F  2FF0F          STORE sF, 0F[15'd]
 020                 ; Get 8-bit switch input
 020  09400          INPUT s4, 00[SW_IN_PORT]
 021                 ; num1 - Mask off bottom 4 bits of switch input
 021  0110F          LOAD s1, 0F[00001111'b]
 022  02140          AND s1, s4
 023                 ; Fetch the decoded 7-seg value for num1
 023  0A510          FETCH s5, (s1)
 024                 ; Output value of num1 and corresponding 7-seg anode
 024  2D516          OUTPUT s5, 16[OUT_PORT]
 025  0180E          LOAD s8, 0E[ANODE_0]
 026  2D808          OUTPUT s8, 08[ANODE_PORT]
 027                 ; Delay
 027  11E01  delay1: ADD sE, 01[1'd]
 028  1DEFF          COMPARE sE, FF[255'd]
 029  36027          JUMP NZ, 027[delay1]
 02A                 ; Copy num1 to sum register s3
 02A  00310          LOAD s3, s1
 02B                 ; num 2 - Mask off top 4 bits of switch input
 02B  012F0          LOAD s2, F0[11110000'b]
 02C  02240          AND s2, s4
 02D                 ; Right shift
 02D  1420E          SR0 s2
 02E  1420E          SR0 s2
 02F  1420E          SR0 s2
 030  1420E          SR0 s2
 031                 ; Fetch the decoded 7-seg value for num2
 031  0A520          FETCH s5, (s2)
 032                 ; Output value of num2 and corresponding 7-seg anode
 032  2D516          OUTPUT s5, 16[OUT_PORT]
 033  0180D          LOAD s8, 0D[ANODE_1]
 034  2D808          OUTPUT s8, 08[ANODE_PORT]
 035                 ; Delay
 035  11E01  delay2: ADD sE, 01[1'd]
 036  1DEFF          COMPARE sE, FF[255'd]
 037  36035          JUMP NZ, 035[delay2]
 038                 ; Add num1+num2 and store in s3
 038  10320          ADD s3, s2
 039                 ; sum[3:0] - Mask off bottom 4 bits of sum
 039  01A0F          LOAD sA, 0F[00001111'b]
 03A  02A30          AND sA, s3
 03B                 ; Fetch the decoded 7-seg value for sum[3:0]
 03B  0A5A0          FETCH s5, (sA)
 03C                 ; Output value of sum[3:0] and corresponding 7-seg anode
 03C  2D516          OUTPUT s5, 16[OUT_PORT]
 03D  0180B          LOAD s8, 0B[ANODE_2]
 03E  2D808          OUTPUT s8, 08[ANODE_PORT]
 03F                 ; Delay
 03F  11E01  delay3: ADD sE, 01[1'd]
 040  1DEFF          COMPARE sE, FF[255'd]
 041  3603F          JUMP NZ, 03F[delay3]
 042                 ; sum[7:4] - Mask off top 4 bits of sum
 042  01BF0          LOAD sB, F0[11110000'b]
 043  02B30          AND sB, s3
 044                 ; Right shift
 044  14B0E          SR0 sB
 045  14B0E          SR0 sB
 046  14B0E          SR0 sB
 047  14B0E          SR0 sB
 048                 ; Fetch the decoded 7-seg value for sum[7:4]
 048  0A5B0          FETCH s5, (sB)
 049                 ; Output value of sum[7:4] and corresponding 7-seg anode
 049  2D516          OUTPUT s5, 16[OUT_PORT]
 04A  01807          LOAD s8, 07[ANODE_3]
 04B  2D808          OUTPUT s8, 08[ANODE_PORT]
 04C                 ; Delay
 04C  11E01  delay4: ADD sE, 01[1'd]
 04D  1DEFF          COMPARE sE, FF[255'd]
 04E  3604C          JUMP NZ, 04C[delay4]
 04F  22000          JUMP 000[start]


All unused memory locations contain zero (equivalent to 'LOAD s0, s0')



List of PSM files that have been assembled

H:\microprocessors-lab\Lab3\LEDprogram.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   18'd         
 timestamp_minutes 19'd         
 timestamp_seconds 03'd         
 datestamp_year    19'd         
 datestamp_month   4'd          
 datestamp_day     24'd         
 NUL               00           
 BEL               07           
 BS                08           
 HT                09           
 LF                0A           
 VT                0B           
 CR                0D           
 ESC               1B           
 DEL               7F           
 DCS               90           
 ST                9C           
 DISP_0            11000000'b   LEDprogram.psm
 DISP_1            11111001'b   LEDprogram.psm
 DISP_2            10100100'b   LEDprogram.psm
 DISP_3            10110000'b   LEDprogram.psm
 DISP_4            10011001'b   LEDprogram.psm
 DISP_5            10010010'b   LEDprogram.psm
 DISP_6            10000010'b   LEDprogram.psm
 DISP_7            11111000'b   LEDprogram.psm
 DISP_8            10000000'b   LEDprogram.psm
 DISP_9            10010000'b   LEDprogram.psm
 DISP_A            10001000'b   LEDprogram.psm
 DISP_B            10000011'b   LEDprogram.psm
 DISP_C            11000110'b   LEDprogram.psm
 DISP_D            10100001'b   LEDprogram.psm
 DISP_E            10000110'b   LEDprogram.psm
 DISP_F            10001110'b   LEDprogram.psm
 ANODE_0           00001110'b   LEDprogram.psm
 ANODE_1           00001101'b   LEDprogram.psm
 ANODE_2           00001011'b   LEDprogram.psm
 ANODE_3           00000111'b   LEDprogram.psm
 NUM1_OUT_PORT     01           LEDprogram.psm
 NUM2_OUT_PORT     02           LEDprogram.psm
 OUT_PORT          16           LEDprogram.psm
 ANODE_PORT        08           LEDprogram.psm
 SW_IN_PORT        00           LEDprogram.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.70"        
 datestamp$        "24 Apr 2019"  
 timestamp$        "18:19:03"     



List of line labels

   Label    Addr  Source PSM File

   start    000   LEDprogram.psm
   delay1   027   LEDprogram.psm
   delay2   035   LEDprogram.psm
   delay3   03F   LEDprogram.psm
   delay4   04C   LEDprogram.psm



Instruction usage statistics

 Instruction    Instances

 LOAD             25
 STAR              -

 AND               4
 OR                -
 XOR               -

 ADD               5
 ADDCY             -
 SUB               -
 SUBCY             -

 TEST              -
 TESTCY            -
 COMPARE           4
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               8
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT             1
 OUTPUT            8
 OUTPUTK           -

 STORE             4
 FETCH             4

 DISABLE           -
 ENABLE            -
 RETURNI           -

 JUMP              5
 JUMP@             -
 CALL              -
 CALL@             -
 RETURN            -
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
